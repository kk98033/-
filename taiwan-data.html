<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COVID-19</title>

    <script src="https://kit.fontawesome.com/c480c03de3.js" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="styles/top_bar.css">
    <link rel="stylesheet" href="styles/side_page.css">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/bottom_bar.css">
    <link rel="stylesheet" href="styles/title_page.css">
    <link rel="stylesheet" href="styles/toggle.css">

    <link rel="stylesheet" href="TW_map/augurio-taiwan.min.css">
    <link rel="stylesheet" href="styles/parallax_style.css">
    <link rel="stylesheet" href="styles/news.css">

    <!-- Live 2D -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
</head>
<body id="body" onmousedown="CloseSideClickingOuside(event)">
    <div id="overlay"></div>
    <div id="sidePageId" class="sidePage menu-item">
        <a href="javascript:void(0)" class="closeBtn" onclick="CloseSidePage()">&times;</a>
        <a href="https://www.cdc.gov.tw/" target="blank">&#8250; 疾管署網站</a>
        <a href="https://www.who.int/" target="blank">&#8250; 世界衛生組織網站</a>
        <a href="taiwan-data.html">&#8250; 臺灣確診數據</a>
        <a href="world-data.html">&#8250; 世界確診數據</a>
        <a href="vaccine.html">&#8250; 疫苗介紹＆預約</a>
        <a href="game.html">&#8250; 小遊戲</a>
        <a href="video.html">&#8250; COVID-19相關影片</a>
    </div>
    
    <div id="topBar" class="topBar" style="z-index: 9999;">
        <a id="btn" style="margin-left: 25px;margin-top: 20px; margin-right: 25px; cursor: pointer;" onclick="CheckState()"><div class="bar" id="bar" style="position: fixed; margin-left: 10px;"></div></a>
        <div class="menu-item-home"><a href="index.html">Home</a></div>
        <div class="menu-item-friends"><a href="about-us.html">About Us</a></div>
        <!-- <div class="menu-item-about"><a href="donate.html">Donate</a></div> -->
        <div class="dropdown" onmouseover="ShowDropdown()" onmouseout="CloseDropdown()">
            <button class="dropbtn menu-switch-language" onclick="ShowDropdown()">English
              <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content" id="dropdown">
                <a style="margin: 0; text-align: center;" href="#">Chinese</a>
            </div>
        </div> 
        <label class="switch menu-toggle-darkmode">
            <input type="checkbox">
            <span class="switchSlider round"></span>
        </label>
    </div>

    <a class="backToTop" id="backToTop" href="#head">Top</a>
    
    <header id="head">
        <div class="bigTitle">
            <div>Title</div>
            <div class="downBtn translate" data-speed="0.1"><a style="opacity: .7;" href="#section1"><i class="fas fa-chevron-down"></i></a></div>
        </div>
        <div class="TWbackgroundImg"></div>
    </header>

    <div class="fullHeight" id="section1">
        <h3 class="pageTitle">
            <div>TITLE</div>
            <div class="underLine"></div>
        </h3>
        <div class="shadow"></div>
        <div id="newsContainer" class="newsContainer">
            <a class="prev" onclick="PlusSlides(-1)">❮</a>
            <a class="next" onclick="PlusSlides(1)">❯</a>
        </div>
        <div id="dotContainer" class="dotContainer">
        </div>
    </div>

    <section class="parallaxContainer">
        <div class="parallax" data-parallax="scroll" data-z-index="1" data-image-src="images/img2.jpg"></div>  
        <!-- <div class="parallax" data-parallax="scroll" data-z-index="1" style="background-image: url(images/img2.jpg)" ></div>   -->
    </section>

    <div class="container" id="app">
        <div class="taiwan-map" ref="map">
            <div id="map">
                <svg id="svg" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet"></svg>
                <div class="colorContainer">
                    <div class="colorChart">
                        <div class="colorBar color-1"></div>
                        <div class="text">>3000</div>
                    </div>
        
                    <div class="colorChart">
                        <div class="colorBar color-2"></div>
                        <div class="text">>700</div>
                    </div>
                    
                    <div class="colorChart">
                        <div class="colorBar color-3"></div>
                        <div class="text">>500</div>
                    </div>
                    
                    <div class="colorChart">
                        <div class="colorBar color-4"></div>
                        <div class="text">>200</div>
                    </div>
                    
                    <div class="colorChart">
                        <div class="colorBar color-5"></div>
                        <div class="text">>100</div>
                    </div>
                    
                    <div class="colorChart">
                        <div class="colorBar color-6"></div>
                        <div class="text">>50</div>
                    </div>
                    
                    <div class="colorChart">
                        <div class="colorBar color-7"></div>
                        <div class="text">>25</div>
                    </div>
                    
                    <div class="colorChart">
                        <div class="colorBar color-8"></div>
                        <div class="text"><25</div>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="shop-list">
            <h1>{{ h1 }}</h1>
            <h2>{{ h2 }}</h2>
        </div>
    </div>

    <section class="bottom">
        <div class="bottomText" style="padding-top: 0;"><b>Contact Me</b></div>
        <div id="bottomTextHref">
            <a href="mailto:a8829037@gmail.com" target="blank" class="bottomText" style="display: inline; padding-right: 10px;">Email</a>
            <a href="https://github.com/kk98033" class="bottomText" target="blank" style="display: inline; padding-right: 10px;">GitHub</a>
            <a href="https://www.youtube.com/channel/UCubeo2tni91PwEGC22a11Kg" class="bottomText" target="blank" style="display: inline; padding-right: 10px;">YouTube</a>
            <a href="https://steamcommunity.com/id/IddleFromTaiwan/" class="bottomText" target="blank" style="display: inline; padding-right: 10px;">Steam</a>
        </div>
        <div class="bottomText" style="padding: 0;">所有圖片皆作為作業練習用途，均不屬於我</div>
        <div class="bottomText">Copyright &#9400 2021 ChiaYuYang. All Rights Reserved</div>
    </section>

    <!-- Live 2D -->
    <script src="live2d-widget-master_2/autoload.js"></script>

    <script src="JS/side_page.js"></script>
    <script src="JS/top_bar.js"></script>

    <!-- Parallax -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="JS/parallax.js"></script>

    <!-- Taiwan map -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.6.0/polyfill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.js"></script>
    <script src="//d3js.org/d3.v3.min.js"></script>
    <script src="TW_map/taiwan_map.js"></script>

    <!-- Create News -->
    <script src="JS/create_news.js"></script>

    <!--Firebase Libraries-->
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-database.js"></script> 
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyB_xpBdbHpt-apQ8ZXl2lgDb5wlE5GU7BE",
            authDomain: "covid-19-website-b68f9.firebaseapp.com",
            databaseURL: "https://covid-19-website-b68f9-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "covid-19-website-b68f9",
            storageBucket: "covid-19-website-b68f9.appspot.com",
            messagingSenderId: "631482638390",
            appId: "1:631482638390:web:42c2a2b67917ec69dcb897",
            measurementId: "G-VCQ5PVZM5R"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        var database = firebase.database();

        /* Heheehe I will make your brain explode:) */
        var twDic = {};
        database.ref("TW_data/").once('value', snapshot => {
            snapshot.forEach(childSnapshot => {
                var value = childSnapshot.val()
                var key = childSnapshot.key
                twDic[key] = value
            });
            localStorage.setItem("twDic", JSON.stringify(twDic)); // save data
        });
        
        var newDic = {}
        database.ref("News/").once('value', snapshot => {
            snapshot.forEach(childSnapshot => {
                var value = childSnapshot.val()
                var key = childSnapshot.key
                newDic[key] = value
            });
            NewsCreate(newDic);
            console.log(newDic);
            localStorage.setItem("newDic", newDic); // save data
        });
    </script>


</body>
</html>